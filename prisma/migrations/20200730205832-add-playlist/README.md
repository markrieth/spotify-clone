# Migration `20200730205832-add-playlist`

This migration has been generated by markrieth at 7/30/2020, 8:58:32 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "Playlist" (
"id" TEXT NOT NULL,
"title" TEXT NOT NULL,
PRIMARY KEY ("id"))

CREATE TABLE "_PlaylistToSong" (
"A" TEXT NOT NULL,
"B" TEXT NOT NULL,
FOREIGN KEY ("A") REFERENCES "Playlist"("id") ON DELETE CASCADE ON UPDATE CASCADE,

FOREIGN KEY ("B") REFERENCES "Song"("id") ON DELETE CASCADE ON UPDATE CASCADE
)

CREATE UNIQUE INDEX "_PlaylistToSong_AB_unique" ON "_PlaylistToSong"("A","B")

CREATE  INDEX "_PlaylistToSong_B_index" ON "_PlaylistToSong"("B")

PRAGMA foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200730202901-add-title-to-album..20200730205832-add-playlist
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -13,9 +13,9 @@
   contentUrl  String
   albumId     String
   genre       String?
   album       Album  @relation(fields: [albumId], references: [id])
-
+  playlists   Playlist[]
   @@index(fields: [genre])
 }
 model Artist {
@@ -29,5 +29,11 @@
   title       String
   artistId    String
   artist      Artist     @relation(fields: [artistId], references: [id])
   songs       Song[]
+}
+
+model Playlist {
+  id          String     @id @default(uuid())
+  title       String
+  songs       Song[]
 }
```


